drop database if exists Pregao;
create database Pregao charset=UTF8 collate utf8_general_ci;
use Pregao;

create table usuarios(
    usuario_id integer primary key not null auto_increment,
    email varchar(100) not null unique,
    senha varchar(100) not null,
    tipo_documento varchar(4) not null,
    numero_documento varchar(20) not null,
    nome varchar(50) not null,
    tipo integer not null
);

-- tipo de documento (cpf, cnpj)
-- tipo de usuário (comprador, fornecedor)

create table telefones(
    usuario integer not null,
    tipo varchar(15) not null,
    numero varchar(20) not null,
    foreign key (usuario) references usuarios(usuario_id) on delete cascade on update cascade
);

create table pregoes(
    pregao_id integer primary key not null auto_increment,
    comprador integer not null,
    data_abertura date not null,
    data_encerramento date not null,
    foreign key (comprador) references usuarios(usuario_id)
);

create table objetos(
    objeto_id integer primary key not null auto_increment,
    pregao integer not null,
    nome varchar(50) not null,
    descricao varchar(256) not null,
    quantidade  integer not null,
    orcamento_unitario decimal(10,2) not null,
    foreign key (pregao) references pregoes(pregao_id)
);

create table ofertas(
    oferta_id integer primary key not null auto_increment,
    objeto integer not null,
    fornecedor integer not null,
    data date not null,
    valor decimal(10,2) not null,
    foreign key (objeto) references objetos(objeto_id),
    foreign key (fornecedor) references usuarios(usuario_id)
);

show tables;

insert into usuarios (email, senha, tipo_documento, numero_documento, nome, tipo) values
('ama@souza.com',md5('1234'),'cpf','590.610.841-64','Ana Pereira de Souza',0),
('maria@barros.com',md5('1234'),'cpf','481.145.560-64','Maria Mello de Barros',0),
('marcos@rego.com',md5('1234'),'cpf','339.455.110-11','Marcos Mello Rego',0),
('sansung@sansung.com',md5('1234'),'cnpj','79.267.167/0001-90','Sansung',1),
('texaco@texaco.com',md5('1234'),'cnpj','69.996.489/0001-05','Texaco',1),
('shell@shell.com',md5('1234'),'cnpj','01.682.010/0001-89','Shell',1),
('del@del.com',md5('1234'),'cnpj','14.955.306/0001-71','DEL',1),
('positivo@positivo.com',md5('1234'),'cnpj','11.217.132/0001-70','Positivo',1),
('ambev@ambev.com',md5('1234'),'cnpj','72.666.240/0001-29','Ambev',1),
('cocacola@cocacola.com',md5('1234'),'cnpj','01.271.049/0001-84','Coca Cola',1),
('posto@ipiranga.com',md5('1234'),'cnpj','76.094.755/0001-56','Posto Ipiranga',1),
('loginha@loginha.com',md5('1234'),'cnpj','96.024.978/0001-58','Loginha',1),
('bardaesquina@bardaesquina.com',md5('1234'),'cnpj','46.253.921/0001-28','Bar da esquina',1),
('bardapraia@bardapraia.com',md5('1234'),'cnpj','61.700.282/0001-97','Bar da Praia',1),
('casadoferreiro@casadoferreiro.com',md5('1234'),'cnpj','66.797.089/0001-58','Casadoferreiro',1),
('seuoscar@seuoscar.com',md5('1234'),'cnpj','04.951.566/0001-39','Seu Oscar',1),
('importador@doparaguai.com',md5('1234'),'cnpj','77.862.338/0001-30','Importador do Paraguai',1),
('importador@demiami.com',md5('1234'),'cnpj','43.644.594/0001-96','Importador de Miami',1),
('gentequefaz@gentequefaz.com',md5('1234'),'cnpj','93.502.224/0001-93','Gente que faz',1);

insert into telefones values
(1,'celular','19-64371-4552'),
(1,'fixo','19-63014-0312'),
(2,'celular','19-16445-3821'),
(3,'celular','19-03491-8877'),
(3,'fixo','19-53155-5663'),
(4,'celular','19-14063-9720'),
(4,'fixo','19-02811-2764'),
(5,'celular','19-31969-3474'),
(5,'fixo','19-65220-9230'),
(6,'celular','19-05226-9534'),
(6,'fixo','19-97812-3878'),
(6,'comercial','19-95799-4248'),
(7,'celular','19-08493-9800'),
(7,'fixo','19-96621-9125'),
(8,'celular','19-26745-1669'),
(8,'fixo','19-15627-3624'),
(9,'celular','19-52970-4874'),
(9,'fixo','19-90745-4896'),
(9,'comercial','19-18129-7226'),
(10,'celular','19-64795-8016'),
(10,'fixo','19-64769-5901'),
(11,'celular','19-86038-2809'),
(11,'fixo','19-73436-4472'),
(12,'celular','19-81209-1528'),
(12,'fixo','19-41933-8597'),
(13,'celular','19-94193-7991'),
(13,'fixo','19-46787-6152'),
(14,'celular','19-34641-8324'),
(14,'fixo','19-68603-7640'),
(15,'celular','19-28582-1323'),
(15,'fixo','19-04374-1319'),
(16,'celular','19-05973-0027'),
(16,'fixo','19-31822-1361'),
(16,'comercial','19-72911-0409'),
(17,'celular','19-43725-4529'),
(17,'fixo','19-22646-2856'),
(18,'celular','19-13444-8979'),
(18,'fixo','19-53682-9329'),
(19,'celular','19-10872-5425'),
(19,'fixo','19-53054-6760');

insert into pregoes values
(202201,2,date_sub(curdate(), INTERVAL 240 DAY),date_sub(curdate(), INTERVAL 225 DAY)),
(202202,1,date_sub(curdate(), INTERVAL 230 DAY),date_sub(curdate(), INTERVAL 215 DAY)),
(202203,3,date_sub(curdate(), INTERVAL 221 DAY),date_sub(curdate(), INTERVAL 206 DAY)),
(202204,3,date_sub(curdate(), INTERVAL 203 DAY),date_sub(curdate(), INTERVAL 188 DAY)),
(202205,1,date_sub(curdate(), INTERVAL 192 DAY),date_sub(curdate(), INTERVAL 177 DAY)),
(202206,1,date_sub(curdate(), INTERVAL 184 DAY),date_sub(curdate(), INTERVAL 169 DAY)),
(202207,2,date_sub(curdate(), INTERVAL 175 DAY),date_sub(curdate(), INTERVAL 160 DAY)),
(202208,3,date_sub(curdate(), INTERVAL 169 DAY),date_sub(curdate(), INTERVAL 154 DAY)),
(202209,1,date_sub(curdate(), INTERVAL 150 DAY),date_sub(curdate(), INTERVAL 135 DAY)),
(202210,2,date_sub(curdate(), INTERVAL 140 DAY),date_sub(curdate(), INTERVAL 125 DAY)),
(202211,3,date_sub(curdate(), INTERVAL 135 DAY),date_sub(curdate(), INTERVAL 120 DAY)),
(202212,1,date_sub(curdate(), INTERVAL 116 DAY),date_sub(curdate(), INTERVAL 101 DAY)),
(202213,2,date_sub(curdate(), INTERVAL 100 DAY),date_sub(curdate(), INTERVAL 85 DAY)),
(202214,1,date_sub(curdate(), INTERVAL 83 DAY),date_sub(curdate(), INTERVAL 68 DAY)),
(202215,3,date_sub(curdate(), INTERVAL 73 DAY),date_sub(curdate(), INTERVAL 58 DAY)),
(202216,1,date_sub(curdate(), INTERVAL 55 DAY),date_sub(curdate(), INTERVAL 40 DAY)),
(202217,3,date_sub(curdate(), INTERVAL 45 DAY),date_sub(curdate(), INTERVAL 30 DAY)),
(202218,3,date_sub(curdate(), INTERVAL 25 DAY),date_sub(curdate(), INTERVAL 10 DAY)),
(202219,1,date_sub(curdate(), INTERVAL 12 DAY),date_sub(curdate(), INTERVAL -3 DAY)),
(202220,2,date_sub(curdate(), INTERVAL 5 DAY),date_sub(curdate(), INTERVAL -10 DAY)),
(202221,1,date_sub(curdate(), INTERVAL 1 DAY),date_sub(curdate(), INTERVAL -14 DAY));

insert into objetos(pregao, nome, descricao, quantidade, orcamento_unitario) values
(202201,'Cadeira','Cadeira simples básica plástica',8,50),
(202201,'Mesa','Mesa de escritório',9,1500),
(202201,'Equipamento','Impressora Matricial',3,1500),
(202201,'Equipamento','Impressora Laser PB',6,2000),
(202202,'Manutenção','Levantar paredes',10,200),
(202202,'Equipamento','Switch 24 Portas não gerenciavel',1,1600),
(202202,'Cadeira','Cadeira de cozinha',6,100),
(202202,'Ferramenta','Alicate de Corte',7,50),
(202202,'Combustível','Óleo Diesel',100,7),
(202203,'Equipamento','Conectores de rede tipo Keystone',2,20),
(202203,'Mesa','Mesa de cozinha',4,750),
(202203,'Ferramenta','Alicate rebitador',3,100),
(202203,'Cadeira','Cadeira de leitura para biblioteca',2,120),
(202203,'Manutenção','Aplicação de piso azuleijo em um Banheiro',9,200),
(202204,'Cadeira','Cadeira de escritório',9,1000),
(202204,'Equipamento','Cabo de rede tipo pares trançados CAT6 - Caixa 350 metros',6,500),
(202204,'Manutenção','Fundações de paredes',5,200),
(202204,'Servidor','REDE Gabinete (64GB RAM, 2TB HD, CPU 8 Nucleos)',3,50000),
(202204,'Manutenção','Instalação de Janelas',9,200),
(202205,'Manutenção','aplicação de reboco em parede',4,200),
(202205,'Servidor','Arquivos Gabinete, teclado, mouse, monitor (32GB RAM, 4TB HD, CPU 8 Nucleos)',5,40000),
(202205,'Cadeira','Cadeira de ferro reforçada',10,200),
(202205,'Ferramenta','Vassoura',8,50),
(202205,'Ferramenta','Lixadeira Orbital',1,800),
(202206,'Computador','Desktop Desempenho - Gabinete, teclado, mouse, monitor (16GB RAM, 1TB HD, CPU 8Núcleos)',8,7000),
(202206,'Ferramenta','Jogo de chaves de boca',10,100),
(202206,'Equipamento','Freezer Horizontal',3,2000),
(202206,'Manutenção','Fundações de muros',3,200),
(202207,'Ferramenta','Alicate Grampeador',7,100),
(202207,'Equipamento','Switch 24 Portas gerenciavel, Spanning Tree Protocol, soporte a redundância',4,1800),
(202207,'Ferramenta','Enxada',7,100),
(202207,'Manutenção','Pintura de parede',2,200),
(202208,'Equipamento','Cabo de rede tipo pares trançados CAT5E - Caixa 350 metros',6,400),
(202208,'Equipamento','Impressora Laser Colorida',1,5000),
(202208,'Ferramenta','Roçadeira a gasolina',1,2000),
(202208,'Combustível','Gasolina',50,6),
(202209,'Mesa','Mesa de reuniões',8,2200),
(202209,'Ferramenta','Serrote',2,50),
(202209,'Ferramenta','Jogo de chaves Fenda, Philips',1,100),
(202209,'Equipamento','Geladeira Básica',7,2000),
(202210,'Equipamento','Impressora Jato de tinta colorida',10,800),
(202210,'Manutenção','Instalação de Portas',1,200),
(202210,'Ferramenta','Alicate de Crimpar cabos de rede CAT6',7,200),
(202210,'Ferramenta','Alicate universal',6,50),
(202211,'Manutenção','Aplicação de revestimento de parede',4,200),
(202211,'Ferramenta','Foice roçadeira',7,100),
(202211,'Equipamento','Roteador 4 Portas Gerenciavel',1,1200),
(202211,'Ferramenta','Martelo',4,50),
(202212,'Computador','Desktop Gráfico - Gabinete, teclado, mouse, monitor (16GB RAM, 1TB HD, CPU 4Núcleos)',2,5000),
(202212,'Computador','Desktop Básico - Gabinete, teclado, mouse, monitor (8GB RAM, 500GB HD, CPU 2Núcleos)',4,2500),
(202212,'Mesa','Mesa de leitura para biblioteca',10,600),
(202212,'Computador','Laptop Básico - Gabinete, teclado, mouse, monitor (8GB RAM, 500GB HD, CPU 2Núcleos)',4,3000),
(202213,'Servidor','WEB Gabinete (64GB RAM, 2TB HD, CPU 8 Nucleos)',3,50000),
(202213,'Ferramenta','Lixadeira angular',5,1500),
(202213,'Ferramenta','Esmerilhadeira',8,2000),
(202213,'Ferramenta','Serra mármore',2,2000),
(202214,'Equipamento','Guilhotina para Papel A2',4,300),
(202214,'Equipamento','Fogão',5,1500),
(202214,'Ferramenta','Serra circular',8,2500),
(202214,'Manutenção','Aplicação de piso laminado',2,200),
(202215,'Manutenção','Aplicação de piso laminado',3,200),
(202215,'Ferramenta','Foice roçadeira',1,100),
(202215,'Mesa','Mesa de cozinha',10,750),
(202215,'Equipamento','Conectores de rede tipo Keystone',6,20),
(202216,'Ferramenta','Vassoura',2,50),
(202216,'Manutenção','Instalação de Portas',6,200),
(202216,'Cadeira','Cadeira de ferro reforçada',4,200),
(202216,'Combustível','Óleo díesel',7,7),
(202217,'Manutenção','Instalação de Janelas',4,200),
(202217,'Cadeira','Cadeira simples básica plástica',8,50),
(202217,'Mesa','Mesa de escritório',6,1500),
(202217,'Servidor','REDE Gabinete (64GB RAM, 2TB HD, CPU 8 Nucleos)',8,50000),
(202218,'Ferramenta','Jogo de chaves Fenda, Philips',4,100),
(202218,'Ferramenta','Martelo',4,50),
(202218,'Ferramenta','Serra mármore',10,2000),
(202218,'Manutenção','Aplicação de piso azuleijo em um Banheiro',3,200),
(202219,'Ferramenta','Jogo de chaves de boca',2,100),
(202219,'Computador','Desktop Gráfico - Gabinete, teclado, mouse, monitor (16GB RAM, 1TB HD, CPU 4Núcleos)',3,5000),
(202219,'Computador','Laptop Básico - Gabinete, teclado, mouse, monitor (8GB RAM, 500GB HD, CPU 2Núcleos)',8,3000),
(202219,'Equipamento','Guilhotina para Papel A2',10,300),
(202220,'Produto Alimentício','Marmitex Médio',8,25),
(202220,'Ferramenta','Rastelo',8,100),
(202220,'Equipamento','Botijão de Gás',10,200),
(202220,'Produto Alimentício','Farinha de trigo 5 KG',4,50000),
(202220,'Cadeira','Cadeira de leitura para biblioteca',4,120),
(202221,'Manutenção','aplicação de reboco em parede',2,200),
(202221,'Combustível','Etanol',9,4),
(202221,'Produto Alimentício','Fardo de Refrigerante 2L',2,20),
(202221,'Cadeira','Cadeira de escritório',4,1000),
(202221,'Produto Alimentício','Marmitex Médio',9,25);

insert into ofertas (objeto, fornecedor, data, valor) values
(1,12,date_sub(curdate(), INTERVAL 227 DAY),36.4),
(1,17,date_sub(curdate(), INTERVAL 230 DAY),50),
(1,18,date_sub(curdate(), INTERVAL 230 DAY),35.6),
(1,15,date_sub(curdate(), INTERVAL 236 DAY),40.1),
(2,12,date_sub(curdate(), INTERVAL 226 DAY),1264.1),
(2,15,date_sub(curdate(), INTERVAL 229 DAY),1100.3),
(2,17,date_sub(curdate(), INTERVAL 229 DAY),1201.7),
(2,18,date_sub(curdate(), INTERVAL 229 DAY),1477.3),
(3,11,date_sub(curdate(), INTERVAL 233 DAY),1126.9),
(3,15,date_sub(curdate(), INTERVAL 233 DAY),1059.3),
(3,17,date_sub(curdate(), INTERVAL 235 DAY),1106.3),
(3,12,date_sub(curdate(), INTERVAL 237 DAY),1335),
(4,18,date_sub(curdate(), INTERVAL 229 DAY),1403.7),
(4,11,date_sub(curdate(), INTERVAL 229 DAY),1413.6),
(4,12,date_sub(curdate(), INTERVAL 234 DAY),1574.4),
(4,15,date_sub(curdate(), INTERVAL 238 DAY),1651.6),
(5,11,date_sub(curdate(), INTERVAL 216 DAY),172.1),
(5,11,date_sub(curdate(), INTERVAL 217 DAY),195.8),
(5,16,date_sub(curdate(), INTERVAL 221 DAY),184.7),
(5,19,date_sub(curdate(), INTERVAL 227 DAY),181.6),
(6,18,date_sub(curdate(), INTERVAL 219 DAY),1240.6),
(6,11,date_sub(curdate(), INTERVAL 224 DAY),1585.2),
(6,12,date_sub(curdate(), INTERVAL 224 DAY),1510.2),
(6,17,date_sub(curdate(), INTERVAL 229 DAY),1127.3),
(7,17,date_sub(curdate(), INTERVAL 216 DAY),74.6),
(7,18,date_sub(curdate(), INTERVAL 217 DAY),84.4),
(7,12,date_sub(curdate(), INTERVAL 219 DAY),75.6),
(7,15,date_sub(curdate(), INTERVAL 219 DAY),83.4),
(8,15,date_sub(curdate(), INTERVAL 219 DAY),39.4),
(8,12,date_sub(curdate(), INTERVAL 222 DAY),45.5),
(8,17,date_sub(curdate(), INTERVAL 226 DAY),47),
(8,11,date_sub(curdate(), INTERVAL 228 DAY),36.7),
(9,5,date_sub(curdate(), INTERVAL 217 DAY),5.5),
(9,11,date_sub(curdate(), INTERVAL 218 DAY),5.9),
(9,5,date_sub(curdate(), INTERVAL 225 DAY),6.4),
(9,6,date_sub(curdate(), INTERVAL 226 DAY),6.6),
(10,18,date_sub(curdate(), INTERVAL 208 DAY),14.8),
(10,15,date_sub(curdate(), INTERVAL 214 DAY),17),
(10,17,date_sub(curdate(), INTERVAL 220 DAY),15.4),
(10,11,date_sub(curdate(), INTERVAL 220 DAY),14.3),
(11,15,date_sub(curdate(), INTERVAL 209 DAY),632.8),
(11,18,date_sub(curdate(), INTERVAL 210 DAY),712.4),
(11,17,date_sub(curdate(), INTERVAL 216 DAY),547.7),
(11,12,date_sub(curdate(), INTERVAL 217 DAY),643.4),
(12,18,date_sub(curdate(), INTERVAL 207 DAY),76.3),
(12,11,date_sub(curdate(), INTERVAL 215 DAY),75),
(12,12,date_sub(curdate(), INTERVAL 215 DAY),76.5),
(12,15,date_sub(curdate(), INTERVAL 216 DAY),94.9),
(13,12,date_sub(curdate(), INTERVAL 211 DAY),88.3),
(13,15,date_sub(curdate(), INTERVAL 211 DAY),114.8),
(13,17,date_sub(curdate(), INTERVAL 212 DAY),94.9),
(13,11,date_sub(curdate(), INTERVAL 213 DAY),116.2),
(14,16,date_sub(curdate(), INTERVAL 210 DAY),160.6),
(14,11,date_sub(curdate(), INTERVAL 214 DAY),185.3),
(14,19,date_sub(curdate(), INTERVAL 215 DAY),194.7),
(14,16,date_sub(curdate(), INTERVAL 216 DAY),141.4),
(15,11,date_sub(curdate(), INTERVAL 189 DAY),711),
(15,12,date_sub(curdate(), INTERVAL 191 DAY),754.2),
(15,15,date_sub(curdate(), INTERVAL 197 DAY),785.4),
(15,17,date_sub(curdate(), INTERVAL 199 DAY),810.7),
(16,15,date_sub(curdate(), INTERVAL 194 DAY),460.5),
(16,18,date_sub(curdate(), INTERVAL 195 DAY),452.4),
(16,17,date_sub(curdate(), INTERVAL 198 DAY),367.3),
(16,12,date_sub(curdate(), INTERVAL 200 DAY),495.8),
(17,19,date_sub(curdate(), INTERVAL 189 DAY),158.7),
(17,16,date_sub(curdate(), INTERVAL 192 DAY),140),
(17,11,date_sub(curdate(), INTERVAL 200 DAY),179.4),
(17,19,date_sub(curdate(), INTERVAL 201 DAY),151),
(18,7,date_sub(curdate(), INTERVAL 192 DAY),42613.6),
(18,4,date_sub(curdate(), INTERVAL 195 DAY),47023.5),
(18,8,date_sub(curdate(), INTERVAL 197 DAY),40752.2),
(18,4,date_sub(curdate(), INTERVAL 198 DAY),35852.4),
(19,11,date_sub(curdate(), INTERVAL 197 DAY),192.9),
(19,11,date_sub(curdate(), INTERVAL 199 DAY),196.6),
(19,19,date_sub(curdate(), INTERVAL 200 DAY),140.6),
(19,16,date_sub(curdate(), INTERVAL 202 DAY),154.1),
(20,11,date_sub(curdate(), INTERVAL 178 DAY),197.1),
(20,19,date_sub(curdate(), INTERVAL 184 DAY),157.4),
(20,16,date_sub(curdate(), INTERVAL 187 DAY),168.6),
(20,16,date_sub(curdate(), INTERVAL 191 DAY),192.5),
(21,7,date_sub(curdate(), INTERVAL 183 DAY),33447.9),
(21,4,date_sub(curdate(), INTERVAL 186 DAY),35271),
(21,8,date_sub(curdate(), INTERVAL 187 DAY),29996),
(21,7,date_sub(curdate(), INTERVAL 190 DAY),38584.8),
(22,17,date_sub(curdate(), INTERVAL 184 DAY),196.5),
(22,12,date_sub(curdate(), INTERVAL 186 DAY),141.2),
(22,15,date_sub(curdate(), INTERVAL 186 DAY),200.9),
(22,11,date_sub(curdate(), INTERVAL 188 DAY),171.8),
(23,11,date_sub(curdate(), INTERVAL 183 DAY),38.2),
(23,18,date_sub(curdate(), INTERVAL 184 DAY),48),
(23,17,date_sub(curdate(), INTERVAL 186 DAY),41.4),
(23,12,date_sub(curdate(), INTERVAL 191 DAY),41.1),
(24,17,date_sub(curdate(), INTERVAL 178 DAY),579.7),
(24,15,date_sub(curdate(), INTERVAL 180 DAY),733.8),
(24,18,date_sub(curdate(), INTERVAL 184 DAY),622.4),
(24,11,date_sub(curdate(), INTERVAL 189 DAY),796.2),
(25,7,date_sub(curdate(), INTERVAL 172 DAY),6183.8),
(25,4,date_sub(curdate(), INTERVAL 175 DAY),6572.1),
(25,8,date_sub(curdate(), INTERVAL 177 DAY),5510.2),
(25,4,date_sub(curdate(), INTERVAL 181 DAY),6189.1),
(26,12,date_sub(curdate(), INTERVAL 174 DAY),100.5),
(26,18,date_sub(curdate(), INTERVAL 179 DAY),78.6),
(26,17,date_sub(curdate(), INTERVAL 180 DAY),82.4),
(26,15,date_sub(curdate(), INTERVAL 182 DAY),83.6),
(27,12,date_sub(curdate(), INTERVAL 171 DAY),1682.7),
(27,11,date_sub(curdate(), INTERVAL 173 DAY),1797.5),
(27,15,date_sub(curdate(), INTERVAL 176 DAY),1902.5),
(27,17,date_sub(curdate(), INTERVAL 180 DAY),1905.8),
(28,16,date_sub(curdate(), INTERVAL 170 DAY),152.5),
(28,19,date_sub(curdate(), INTERVAL 179 DAY),198.5),
(28,19,date_sub(curdate(), INTERVAL 182 DAY),191.9),
(28,11,date_sub(curdate(), INTERVAL 182 DAY),174.1),
(29,17,date_sub(curdate(), INTERVAL 165 DAY),96.7),
(29,12,date_sub(curdate(), INTERVAL 167 DAY),79),
(29,15,date_sub(curdate(), INTERVAL 167 DAY),75.5),
(29,11,date_sub(curdate(), INTERVAL 169 DAY),80),
(30,11,date_sub(curdate(), INTERVAL 162 DAY),1696.7),
(30,12,date_sub(curdate(), INTERVAL 165 DAY),1530.2),
(30,15,date_sub(curdate(), INTERVAL 169 DAY),1418.7),
(30,18,date_sub(curdate(), INTERVAL 172 DAY),1626.8),
(31,12,date_sub(curdate(), INTERVAL 164 DAY),83.6),
(31,18,date_sub(curdate(), INTERVAL 167 DAY),96.7),
(31,15,date_sub(curdate(), INTERVAL 171 DAY),87.2),
(31,11,date_sub(curdate(), INTERVAL 172 DAY),90.1),
(32,16,date_sub(curdate(), INTERVAL 165 DAY),158.4),
(32,11,date_sub(curdate(), INTERVAL 166 DAY),195.8),
(32,19,date_sub(curdate(), INTERVAL 167 DAY),175.2),
(32,11,date_sub(curdate(), INTERVAL 169 DAY),157.1),
(33,18,date_sub(curdate(), INTERVAL 156 DAY),312.1),
(33,17,date_sub(curdate(), INTERVAL 163 DAY),341),
(33,11,date_sub(curdate(), INTERVAL 163 DAY),296.5),
(33,12,date_sub(curdate(), INTERVAL 164 DAY),352.1),
(34,18,date_sub(curdate(), INTERVAL 157 DAY),4808.4),
(34,17,date_sub(curdate(), INTERVAL 161 DAY),4670.9),
(34,11,date_sub(curdate(), INTERVAL 165 DAY),4740.8),
(34,15,date_sub(curdate(), INTERVAL 167 DAY),3690),
(35,18,date_sub(curdate(), INTERVAL 155 DAY),1488.9),
(35,17,date_sub(curdate(), INTERVAL 163 DAY),1852.9),
(35,11,date_sub(curdate(), INTERVAL 165 DAY),1562.4),
(35,12,date_sub(curdate(), INTERVAL 166 DAY),1479.5),
(36,5,date_sub(curdate(), INTERVAL 158 DAY),5.4),
(36,6,date_sub(curdate(), INTERVAL 158 DAY),6),
(36,11,date_sub(curdate(), INTERVAL 159 DAY),6.3),
(36,6,date_sub(curdate(), INTERVAL 162 DAY),5.9),
(37,15,date_sub(curdate(), INTERVAL 140 DAY),2086.9),
(37,11,date_sub(curdate(), INTERVAL 146 DAY),1893.7),
(37,17,date_sub(curdate(), INTERVAL 146 DAY),1995.1),
(37,12,date_sub(curdate(), INTERVAL 147 DAY),2084.1),
(38,17,date_sub(curdate(), INTERVAL 136 DAY),37.2),
(38,15,date_sub(curdate(), INTERVAL 139 DAY),48.9),
(38,11,date_sub(curdate(), INTERVAL 140 DAY),41.5),
(38,18,date_sub(curdate(), INTERVAL 148 DAY),35.9),
(39,17,date_sub(curdate(), INTERVAL 137 DAY),94.1),
(39,18,date_sub(curdate(), INTERVAL 139 DAY),95.1),
(39,15,date_sub(curdate(), INTERVAL 142 DAY),79.5),
(39,12,date_sub(curdate(), INTERVAL 143 DAY),88.6),
(40,12,date_sub(curdate(), INTERVAL 142 DAY),1433.4),
(40,17,date_sub(curdate(), INTERVAL 143 DAY),1802.1),
(40,15,date_sub(curdate(), INTERVAL 144 DAY),1548.2),
(40,18,date_sub(curdate(), INTERVAL 147 DAY),1767.4),
(41,15,date_sub(curdate(), INTERVAL 126 DAY),587.7),
(41,17,date_sub(curdate(), INTERVAL 130 DAY),775.4),
(41,12,date_sub(curdate(), INTERVAL 135 DAY),776.5),
(41,11,date_sub(curdate(), INTERVAL 136 DAY),688.7),
(42,16,date_sub(curdate(), INTERVAL 127 DAY),156.2),
(42,16,date_sub(curdate(), INTERVAL 132 DAY),156.4),
(42,19,date_sub(curdate(), INTERVAL 132 DAY),150.3),
(42,11,date_sub(curdate(), INTERVAL 133 DAY),163.9),
(43,12,date_sub(curdate(), INTERVAL 128 DAY),179.9),
(43,17,date_sub(curdate(), INTERVAL 129 DAY),154.6),
(43,15,date_sub(curdate(), INTERVAL 137 DAY),171.9),
(43,11,date_sub(curdate(), INTERVAL 138 DAY),179.7),
(44,18,date_sub(curdate(), INTERVAL 127 DAY),35.2),
(44,15,date_sub(curdate(), INTERVAL 127 DAY),40.1),
(44,11,date_sub(curdate(), INTERVAL 129 DAY),38.7),
(44,12,date_sub(curdate(), INTERVAL 139 DAY),50.2),
(45,19,date_sub(curdate(), INTERVAL 122 DAY),197.3),
(45,19,date_sub(curdate(), INTERVAL 128 DAY),191.1),
(45,11,date_sub(curdate(), INTERVAL 130 DAY),141.4),
(45,16,date_sub(curdate(), INTERVAL 132 DAY),190.9),
(46,17,date_sub(curdate(), INTERVAL 122 DAY),80.5),
(46,11,date_sub(curdate(), INTERVAL 125 DAY),70.1),
(46,12,date_sub(curdate(), INTERVAL 127 DAY),76.6),
(46,18,date_sub(curdate(), INTERVAL 129 DAY),100.6),
(47,11,date_sub(curdate(), INTERVAL 127 DAY),938.7),
(47,18,date_sub(curdate(), INTERVAL 128 DAY),1142.5),
(47,12,date_sub(curdate(), INTERVAL 128 DAY),1070.4),
(47,15,date_sub(curdate(), INTERVAL 130 DAY),927.5),
(48,17,date_sub(curdate(), INTERVAL 124 DAY),40.7),
(48,15,date_sub(curdate(), INTERVAL 130 DAY),47.4),
(48,18,date_sub(curdate(), INTERVAL 131 DAY),40.1),
(48,11,date_sub(curdate(), INTERVAL 131 DAY),42.2),
(49,8,date_sub(curdate(), INTERVAL 103 DAY),4588.8),
(49,7,date_sub(curdate(), INTERVAL 106 DAY),3958.5),
(49,4,date_sub(curdate(), INTERVAL 109 DAY),4167.4),
(49,7,date_sub(curdate(), INTERVAL 113 DAY),4631.7),
(50,8,date_sub(curdate(), INTERVAL 105 DAY),2035.4),
(50,7,date_sub(curdate(), INTERVAL 109 DAY),1910.4),
(50,4,date_sub(curdate(), INTERVAL 113 DAY),2352.6),
(50,8,date_sub(curdate(), INTERVAL 114 DAY),2082.2),
(51,17,date_sub(curdate(), INTERVAL 103 DAY),500.8),
(51,15,date_sub(curdate(), INTERVAL 106 DAY),499.6),
(51,11,date_sub(curdate(), INTERVAL 109 DAY),424),
(51,12,date_sub(curdate(), INTERVAL 113 DAY),492.1),
(52,8,date_sub(curdate(), INTERVAL 104 DAY),2867.5),
(52,4,date_sub(curdate(), INTERVAL 108 DAY),2397.3),
(52,4,date_sub(curdate(), INTERVAL 111 DAY),2976.1),
(52,7,date_sub(curdate(), INTERVAL 112 DAY),2117.8),
(53,4,date_sub(curdate(), INTERVAL 86 DAY),45991.1),
(53,8,date_sub(curdate(), INTERVAL 93 DAY),37184.6),
(53,8,date_sub(curdate(), INTERVAL 95 DAY),40257.5),
(53,7,date_sub(curdate(), INTERVAL 96 DAY),37346.9),
(54,12,date_sub(curdate(), INTERVAL 87 DAY),1091.1),
(54,15,date_sub(curdate(), INTERVAL 87 DAY),1182.4),
(54,18,date_sub(curdate(), INTERVAL 95 DAY),1174.2),
(54,17,date_sub(curdate(), INTERVAL 98 DAY),1179.8),
(55,12,date_sub(curdate(), INTERVAL 86 DAY),1888.7),
(55,17,date_sub(curdate(), INTERVAL 86 DAY),1611),
(55,15,date_sub(curdate(), INTERVAL 90 DAY),1977.4),
(55,11,date_sub(curdate(), INTERVAL 94 DAY),1954.9),
(56,18,date_sub(curdate(), INTERVAL 87 DAY),1448.5),
(56,15,date_sub(curdate(), INTERVAL 88 DAY),1578.6),
(56,11,date_sub(curdate(), INTERVAL 93 DAY),1886.5),
(56,12,date_sub(curdate(), INTERVAL 98 DAY),1434.2),
(57,18,date_sub(curdate(), INTERVAL 70 DAY),266.5),
(57,17,date_sub(curdate(), INTERVAL 74 DAY),257.6),
(57,12,date_sub(curdate(), INTERVAL 76 DAY),282.1),
(57,11,date_sub(curdate(), INTERVAL 82 DAY),274.1),
(58,17,date_sub(curdate(), INTERVAL 69 DAY),1236.6),
(58,18,date_sub(curdate(), INTERVAL 69 DAY),1361.1),
(58,11,date_sub(curdate(), INTERVAL 71 DAY),1154),
(58,15,date_sub(curdate(), INTERVAL 72 DAY),1211.1),
(59,17,date_sub(curdate(), INTERVAL 73 DAY),2143),
(59,11,date_sub(curdate(), INTERVAL 74 DAY),1986.2),
(59,12,date_sub(curdate(), INTERVAL 78 DAY),2097.2),
(59,18,date_sub(curdate(), INTERVAL 79 DAY),2433.2),
(60,16,date_sub(curdate(), INTERVAL 72 DAY),192.2),
(60,19,date_sub(curdate(), INTERVAL 74 DAY),173),
(60,11,date_sub(curdate(), INTERVAL 75 DAY),196.9),
(60,11,date_sub(curdate(), INTERVAL 79 DAY),197.3),
(61,19,date_sub(curdate(), INTERVAL 59 DAY),193.9),
(61,16,date_sub(curdate(), INTERVAL 60 DAY),190.8),
(61,16,date_sub(curdate(), INTERVAL 65 DAY),183.8),
(61,11,date_sub(curdate(), INTERVAL 66 DAY),183.4),
(62,11,date_sub(curdate(), INTERVAL 64 DAY),86.8),
(62,15,date_sub(curdate(), INTERVAL 69 DAY),79.4),
(62,18,date_sub(curdate(), INTERVAL 69 DAY),84.5),
(62,17,date_sub(curdate(), INTERVAL 71 DAY),85.6),
(63,17,date_sub(curdate(), INTERVAL 60 DAY),577.2),
(63,11,date_sub(curdate(), INTERVAL 61 DAY),552.1),
(63,12,date_sub(curdate(), INTERVAL 65 DAY),551.3),
(63,15,date_sub(curdate(), INTERVAL 69 DAY),570.8),
(64,18,date_sub(curdate(), INTERVAL 60 DAY),19.6),
(64,12,date_sub(curdate(), INTERVAL 64 DAY),17.1),
(64,17,date_sub(curdate(), INTERVAL 64 DAY),14.7),
(64,15,date_sub(curdate(), INTERVAL 67 DAY),15.1),
(65,15,date_sub(curdate(), INTERVAL 46 DAY),46.2),
(65,12,date_sub(curdate(), INTERVAL 49 DAY),38.1),
(65,18,date_sub(curdate(), INTERVAL 49 DAY),37.6),
(65,17,date_sub(curdate(), INTERVAL 51 DAY),49.6),
(66,16,date_sub(curdate(), INTERVAL 45 DAY),192.4),
(66,19,date_sub(curdate(), INTERVAL 45 DAY),173.7),
(66,19,date_sub(curdate(), INTERVAL 52 DAY),158.3),
(66,11,date_sub(curdate(), INTERVAL 52 DAY),172.7),
(67,15,date_sub(curdate(), INTERVAL 46 DAY),156.3),
(67,12,date_sub(curdate(), INTERVAL 51 DAY),187.8),
(67,11,date_sub(curdate(), INTERVAL 52 DAY),166.6),
(67,17,date_sub(curdate(), INTERVAL 54 DAY),183.7),
(68,6,date_sub(curdate(), INTERVAL 46 DAY),7.3),
(68,11,date_sub(curdate(), INTERVAL 46 DAY),5.4),
(68,11,date_sub(curdate(), INTERVAL 53 DAY),6.8),
(68,5,date_sub(curdate(), INTERVAL 54 DAY),5),
(69,11,date_sub(curdate(), INTERVAL 31 DAY),176.2),
(69,11,date_sub(curdate(), INTERVAL 37 DAY),149.5),
(69,16,date_sub(curdate(), INTERVAL 37 DAY),172.2),
(69,19,date_sub(curdate(), INTERVAL 44 DAY),179.9),
(70,15,date_sub(curdate(), INTERVAL 36 DAY),41.1),
(70,18,date_sub(curdate(), INTERVAL 39 DAY),46.1),
(70,12,date_sub(curdate(), INTERVAL 39 DAY),48.6),
(70,11,date_sub(curdate(), INTERVAL 43 DAY),50),
(71,11,date_sub(curdate(), INTERVAL 34 DAY),1076.1),
(71,17,date_sub(curdate(), INTERVAL 34 DAY),1137.4),
(71,15,date_sub(curdate(), INTERVAL 37 DAY),1080.9),
(71,12,date_sub(curdate(), INTERVAL 42 DAY),1121),
(72,4,date_sub(curdate(), INTERVAL 36 DAY),47383.6),
(72,7,date_sub(curdate(), INTERVAL 38 DAY),36378.2),
(72,8,date_sub(curdate(), INTERVAL 41 DAY),39434.4),
(72,4,date_sub(curdate(), INTERVAL 44 DAY),48000.3),
(73,11,date_sub(curdate(), INTERVAL 11 DAY),94.5),
(73,12,date_sub(curdate(), INTERVAL 13 DAY),71.8),
(73,15,date_sub(curdate(), INTERVAL 18 DAY),74),
(73,17,date_sub(curdate(), INTERVAL 24 DAY),81.1),
(74,11,date_sub(curdate(), INTERVAL 11 DAY),42.2),
(74,15,date_sub(curdate(), INTERVAL 14 DAY),48.3),
(74,18,date_sub(curdate(), INTERVAL 15 DAY),40.4),
(74,12,date_sub(curdate(), INTERVAL 24 DAY),39.1),
(75,18,date_sub(curdate(), INTERVAL 15 DAY),1692.7),
(75,11,date_sub(curdate(), INTERVAL 19 DAY),1666.5),
(75,17,date_sub(curdate(), INTERVAL 22 DAY),1407.2),
(75,12,date_sub(curdate(), INTERVAL 22 DAY),1627),
(76,16,date_sub(curdate(), INTERVAL 14 DAY),187.3),
(76,11,date_sub(curdate(), INTERVAL 14 DAY),148.5),
(76,16,date_sub(curdate(), INTERVAL 14 DAY),194),
(76,19,date_sub(curdate(), INTERVAL 20 DAY),169),
(77,11,date_sub(curdate(), INTERVAL -1 DAY),74.4),
(77,17,date_sub(curdate(), INTERVAL 3 DAY),88.5),
(77,15,date_sub(curdate(), INTERVAL 4 DAY),98.7),
(77,18,date_sub(curdate(), INTERVAL 9 DAY),77.6),
(78,8,date_sub(curdate(), INTERVAL 10 DAY),4020.6),
(78,4,date_sub(curdate(), INTERVAL 11 DAY),4196.3),
(78,7,date_sub(curdate(), INTERVAL 2 DAY),4826.4),
(78,7,date_sub(curdate(), INTERVAL 3 DAY),4640.7),
(79,8,date_sub(curdate(), INTERVAL 0 DAY),2747.2),
(79,4,date_sub(curdate(), INTERVAL 10 DAY),2659.5),
(79,8,date_sub(curdate(), INTERVAL 2 DAY),2821.4),
(79,7,date_sub(curdate(), INTERVAL 8 DAY),2893.4),
(80,15,date_sub(curdate(), INTERVAL 10 DAY),232.2),
(80,11,date_sub(curdate(), INTERVAL 7 DAY),283.6),
(80,12,date_sub(curdate(), INTERVAL 7 DAY),222.7),
(80,17,date_sub(curdate(), INTERVAL 9 DAY),269.9),
(81,10,date_sub(curdate(), INTERVAL 1 DAY),25.1),
(81,9,date_sub(curdate(), INTERVAL 2 DAY),18),
(82,12,date_sub(curdate(), INTERVAL 0 DAY),82.2),
(82,18,date_sub(curdate(), INTERVAL 1 DAY),79.3),
(82,17,date_sub(curdate(), INTERVAL 2 DAY),94.3),
(82,15,date_sub(curdate(), INTERVAL 4 DAY),71.5),
(83,11,date_sub(curdate(), INTERVAL 0 DAY),163.1),
(83,18,date_sub(curdate(), INTERVAL 1 DAY),186.9),
(83,12,date_sub(curdate(), INTERVAL 1 DAY),155.9),
(83,15,date_sub(curdate(), INTERVAL 2 DAY),195.6),
(84,13,date_sub(curdate(), INTERVAL 0 DAY),48423.8),
(84,9,date_sub(curdate(), INTERVAL 0 DAY),43430.2),
(84,14,date_sub(curdate(), INTERVAL 1 DAY),49361.5),
(84,10,date_sub(curdate(), INTERVAL 4 DAY),48357.6),
(85,17,date_sub(curdate(), INTERVAL 0 DAY),93.8),
(85,18,date_sub(curdate(), INTERVAL 0 DAY),106.5),
(86,19,date_sub(curdate(), INTERVAL 1 DAY),165.9),
(86,11,date_sub(curdate(), INTERVAL 2 DAY),184),
(86,16,date_sub(curdate(), INTERVAL 3 DAY),172.9),
(86,19,date_sub(curdate(), INTERVAL 4 DAY),198.7),
(87,11,date_sub(curdate(), INTERVAL 0 DAY),4.3),
(87,5,date_sub(curdate(), INTERVAL 1 DAY),3.7),
(87,5,date_sub(curdate(), INTERVAL 1 DAY),3.4),
(87,6,date_sub(curdate(), INTERVAL 2 DAY),3.3),
(88,10,date_sub(curdate(), INTERVAL 0 DAY),17.1),
(88,9,date_sub(curdate(), INTERVAL 1 DAY),19.7),
(88,13,date_sub(curdate(), INTERVAL 2 DAY),15.7),
(88,14,date_sub(curdate(), INTERVAL 3 DAY),16.6),
(89,12,date_sub(curdate(), INTERVAL 0 DAY),807.5),
(89,11,date_sub(curdate(), INTERVAL 1 DAY),834.5),
(89,17,date_sub(curdate(), INTERVAL 4 DAY),992),
(89,15,date_sub(curdate(), INTERVAL 5 DAY),823.2),
(90,13,date_sub(curdate(), INTERVAL 1 DAY),23.2),
(90,14,date_sub(curdate(), INTERVAL 2 DAY),20);

create view vw_compradores as
select u.usuario_id, u.email, u.senha, u.tipo_documento, u.numero_documento,
u.nome, t.tipo as telefone, t.numero
from usuarios u left join telefones t on u.usuario_id = t.usuario 
where u.tipo = 0
order by u.usuario_id;

create view vw_fornecedores as
select u.usuario_id, u.email, u.senha, u.tipo_documento, u.numero_documento,
u.nome, t.tipo as telefone, t.numero
from usuarios u left join telefones t on u.usuario_id = t.usuario
where u.tipo = 1
order by u.usuario_id;

create view vw_ofertas as
select p.pregao_id, p.comprador, (select nome from usuarios where usuario_id = p.comprador) as nome_comprador,
p.data_abertura, p.data_encerramento, o.nome as objeto, o.descricao, o.quantidade,
o.orcamento_unitario, u.nome as fornecedor, of.data, of.valor from pregoes p inner join objetos o on p.pregao_id = o.pregao
inner join ofertas of on o.objeto_id = of.objeto inner join usuarios u on of.fornecedor = u.usuario_id
order by p.pregao_id, o.objeto_id, of.data;

select * from vw_ofertas;
select * from objetos;
select * from pregoes;
select * from vw_compradores;
select * from vw_fornecedores;
